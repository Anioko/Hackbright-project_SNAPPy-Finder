{% extends 'base.html' %}

{% block content %}

<h1>EBT/SNAP Finder</h1>

<div id='map'>
</div>

<div id="text-sections">
  <h2>Find a retailer near you:</h2>
  <div>
    <h3>Automatically search for nearby locations:</h3>
    <form action="/search-coords" method="GET" id="lat-long-entry">
      Search range:
          <select name="search-range" id="coords-search-range" required>
          <option value="0.1">0.1 miles</option>
          <option value="0.2">0.2 miles</option>
          <option value="0.3">0.3 miles</option>
          <option value="0.5">0.5 miles</option>
          <option value="0.75">0.75 miles</option>
          <option value="1">1 mile</option>
          <option value="5">5 miles</option>
          <option value="10">10 miles</option>
          <option value="25">25 miles</option>
        </select>
      <input type="submit" value="Search!" id="coords-search">
    </form>
  </div>
  <div>
    <h3>Search near a specific address:</h3>
    <form action="/search-address" method="GET" id="address-entry">
      Street: <input type="text" id="street" required>
      City: <input type="text" id="city" required>
      State (abbrev.): <input type="text" id="state" maxlength="2" required>
      Search range:
        <select name="search-range" id="addr-search-range" required>
          <option value="0.1">0.1 miles</option>
          <option value="0.2">0.2 miles</option>
          <option value="0.3">0.3 miles</option>
          <option value="0.5">0.5 miles</option>
          <option value="0.75">0.75 miles</option>
          <option value="1">1 mile</option>
          <option value="5">5 miles</option>
          <option value="10">10 miles</option>
          <option value="25">25 miles</option>
        </select>
      <input type="submit" value="Search!" id="addr-search">
    </form>
  </div>
  <div id="search-results">
  </div>
</div>


<!-- GMaps: get location -->
<script type="text/javascript" src="static/gmaps.js"></script>

<!-- GMaps: make API call -->
<script async defer
  src="https://maps.googleapis.com/maps/api/js?key={{ key }}&callback=initMap">
</script>

<script type="text/javascript" src="static/search_results.js"></script>

{% endblock %}
